---
title: "Stripeに登録した商品を、Next.jsで取得・表示しよう"
---

このステップでは、Stripeに登録した商品データをサイトに表示させる方法を体験します。

## StripeのAPIキーを取得しよう

### 制限付きAPIキーを作成しよう


## Next.jsの環境変数に、APIキーを登録しよう

## 商品一覧を返すREST APIを実装しよう

## 商品一覧ページを実装しよう

### `pages/products.jsx`を作成しよう

### `getStaticProps`で商品データを取得しよう

#### `revalidate`を設定して、キャッシュの自動更新を行おう

## おさらい

- Stripeのデータを取得するには、シークレットAPIキーまたは制限付きAPIキーを利用する
- `getStaticProps`でAPIのレスポンスを利用したページを事前にビルドできる
- `revalidate`を設定すると、一定間隔でページの再ビルドを行える

次のステップでは、商品の注文ボタンを設定します。

## 「早く終わった」という方のための、もう１ステップ

C2Cのマーケットプレイスを構築するケースやタイムセールを行いたい場合などでは、「常に最新の商品一覧を表示する」必要があります。

useSWRライブラリを組み合わせることで、最新の情報をAPIから取得し表示させることができます。

以下のドキュメントを参考に、商品一覧ページを変更してみましょう。

https://swr.vercel.app/ja/docs/with-nextjs

https://swr.vercel.app/ja/docs/revalidation