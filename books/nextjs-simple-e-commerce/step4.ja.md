---
title: "Step 3: Stripe APIを利用して、商品ページを動的に生成しよう"
---

無事e-commerceシステムをローンチできました。

売れ行きも順調で、新しい商品も少しずつ増えています。

## タスク: 追加した商品や販売終了した商品の反映作業を効率化しよう

ある日あなたは、運用チームから「商品を追加・削除するたびにコードスニペットを追加するのが大変」と相談されました。

また、将来的に複数の商品をまとめて注文できる「カート機能」も追加したいとのことです。

アプリケーションのコードを変更せず、カート機能の追加にも対応できるように、Stripeとの連携をアップデートしましょう。

## 1: Stripe APIとNext.jsを連携しよう

### Stripe APIキーを環境変数に設定する

### 環境変数を利用して、Stripe SDKをセットアップしよう

## 2: 商品情報をStripe APIから取得しよう

### Next.jsのサーバー側処理で、Stripe APIを呼び出す

### 取得した商品情報から、商品一覧を表示しよう

## 3: Stripe Checkoutを利用して、注文ボタンを表示しよう

## おさらい

- Next.jsでは、サーバー側・クライアント側の処理両方が実装できる
- Stripe APIを利用して、商品や価格情報が取得できる
- Stripe Checkoutなら、動的な決済フローやカート機能に対応できる